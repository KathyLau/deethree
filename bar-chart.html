<!DOCTYPE html>

<html>
  <head>
    <script src="d3-src/d3.min.js" charset="utf-8"></script>
    <title>US Federal Budget</title>

    <style>
     .chart div {
       font: 10px sans-serif;
       background-color: steelblue;
       text-align: right;
       padding: 3px;
       margin: 1px;
       color: white;
     }
    </style>

  </head>

  <body>
    <center>
    <h1> 2016 vs. 2017 </h1></center>

    <h2>Total Surplus/Deficit as % of GDP</h2>
    <div class="chart" id="sd_gdp">
    </div>

    <h2>Total Surplus/Deficit</h2>
    <div class="chart" id="sd">
    </div>

    <h2>GDP</h2>
    <div class="chart" id="gdp">
    </div>

    <h2>Total Revenues</h2>
    <div class="chart" id="rev">
    </div>

    <h2>Total Spending</h2>
    <div class="chart" id="spend">
    </div>

    <h2>Total Federal Debt as % of GDP</h2>
    <div class="chart" id="fd_gdp">
    </div>
    <h2>Total Federal Debt</h2>
    <div class="chart" id="fd">
    </div>

    <script>
    //put in list of numbers here
     var info_rev = [2.99, 3.21];
     var info_spend = [3.54, 3.65];

     var colors = ['#43a2ca', '#f03b20'];

   var makeBars = function(graph, unit, info) {
     var dyn = d3.select(graph);
     dyn.selectAll("div")
	  .data(info)
	  .enter()
	  .append("div")
	  .style("width", function(d) {
	    return d  + "px";
	  })
    .style("background-color", function(d) {
    if (d==info[0]) {
      return colors[2];
    }
    else {
      return colors[1];
    }
  })
	  .text( function(d) {
	    return d + " " + unit;
	  });
     };

     var transitionTest = function( graph, scale, info ) {
       var dyn = d3.select(graph);
       dyn.selectAll("div")
	  .data(info)
	  .transition()
	  .duration(2000)
	  .style("width", function(d) {
	    return d * scale + "px";
	  });
     };

//put in graph info in id#, unit of price, and name of list format
     makeBars('#rev', "trillion", info_rev);
     transitionTest('#rev', 100, info_rev);

     makeBars('#spend', "trillion", info_spend);
     transitionTest('#spend', 100, info_spend);
    </script>

  </body>
</html>
